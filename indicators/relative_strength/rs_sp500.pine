// This Pine Script™ code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/
// © hidapple

//@version=6
indicator("Relative Strength vs S&P500", shorttitle = "RS vs SPY", overlay = false)

// Get SPY (S&P500 ETF) close price
spy_close = request.security("SPY", timeframe.period, close)

// Calculate relative strength ratio (stock / SPY)
rs = close / spy_close

// Color by slope: green = outperforming, red = underperforming
rs_color = rs > rs[1] ? color.green : color.red

// Plot relative strength line
plot(rs, title="RS", color=rs_color, linewidth=2)